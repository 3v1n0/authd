> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username:
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 7
Scan the qrcode or enter the code in the login page
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █  ▀▀█▄██ █ ▄▄▄▄▄ ████
████ █   █ █▀▄██ ▄▄▄██ █   █ ████
████ █▄▄▄█ ██▄ █ ▄ ▄▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█ ▀▄▀▄▀ ▀▄█▄▄▄▄▄▄▄████
████▄█ ▄█ ▄ ▀█▄▀▀▄▄█ █▄▀█▄█ ▄████
█████▀█▀▄ ▄ ▄▀█▀▀▀ ▀█▄▀▄▄▀▀██████
████▄  █▀█▄▄▄██ █▀█▀█▄   █▄▄ ████
████▀▄  ▀▄▄█ ▄▄█ ▀▄▀▀ ▀▀ █▄▄▀████
███████▄▄█▄█  ▀▄▀▀█▀ ▄▄▄ ▄ ▄ ████
████ ▄▄▄▄▄ █  █▄ ██▀ █▄█ █▄  ████
████ █   █ █▀▄ ▄  ▀▀▄  ▄  ▀▀▀████
████ █▄▄▄█ █▄█▄▄▄▄█ █  █ █ ▄█████
████▄▄▄▄▄▄▄█▄█▄█▄█▄████▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
       https://ubuntu.com
              1337

== Qr Code authentication (enter 'r' to go back to select the authentication method) ==
  1. Wait for the QR code scan result
  2. Regenerate code
Choose action:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 7
Scan the qrcode or enter the code in the login page
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █  ▀▀█▄██ █ ▄▄▄▄▄ ████
████ █   █ █▀▄██ ▄▄▄██ █   █ ████
████ █▄▄▄█ ██▄ █ ▄ ▄▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█ ▀▄▀▄▀ ▀▄█▄▄▄▄▄▄▄████
████▄█ ▄█ ▄ ▀█▄▀▀▄▄█ █▄▀█▄█ ▄████
█████▀█▀▄ ▄ ▄▀█▀▀▀ ▀█▄▀▄▄▀▀██████
████▄  █▀█▄▄▄██ █▀█▀█▄   █▄▄ ████
████▀▄  ▀▄▄█ ▄▄█ ▀▄▀▀ ▀▀ █▄▄▀████
███████▄▄█▄█  ▀▄▀▀█▀ ▄▄▄ ▄ ▄ ████
████ ▄▄▄▄▄ █  █▄ ██▀ █▄█ █▄  ████
████ █   █ █▀▄ ▄  ▀▀▄  ▄  ▀▀▀████
████ █▄▄▄█ █▄█▄▄▄▄█ █  █ █ ▄█████
████▄▄▄▄▄▄▄█▄█▄█▄█▄████▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
       https://ubuntu.com
              1337

== Qr Code authentication (enter 'r' to go back to select the authentication method) ==
  1. Wait for the QR code scan result
  2. Regenerate code
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 7
Scan the qrcode or enter the code in the login page
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █  ▀▀█▄██ █ ▄▄▄▄▄ ████
████ █   █ █▀▄██ ▄▄▄██ █   █ ████
████ █▄▄▄█ ██▄ █ ▄ ▄▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█ ▀▄▀▄▀ ▀▄█▄▄▄▄▄▄▄████
████▄█ ▄█ ▄ ▀█▄▀▀▄▄█ █▄▀█▄█ ▄████
█████▀█▀▄ ▄ ▄▀█▀▀▀ ▀█▄▀▄▄▀▀██████
████▄  █▀█▄▄▄██ █▀█▀█▄   █▄▄ ████
████▀▄  ▀▄▄█ ▄▄█ ▀▄▀▀ ▀▀ █▄▄▀████
███████▄▄█▄█  ▀▄▀▀█▀ ▄▄▄ ▄ ▄ ████
████ ▄▄▄▄▄ █  █▄ ██▀ █▄█ █▄  ████
████ █   █ █▀▄ ▄  ▀▀▄  ▄  ▀▀▀████
████ █▄▄▄█ █▄█▄▄▄▄█ █  █ █ ▄█████
████▄▄▄▄▄▄▄█▄█▄█▄█▄████▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
       https://ubuntu.com
              1337

== Qr Code authentication (enter 'r' to go back to select the authentication method) ==
  1. Wait for the QR code scan result
  2. Regenerate code
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 8
== Authentication code (enter 'r' to go back to select the authentication method) ==
  1. Proceed with Authentication code
  2. Resend sms
Choose action:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 7
Scan the qrcode or enter the code in the login page
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █  ▀▀█▄██ █ ▄▄▄▄▄ ████
████ █   █ █▀▄██ ▄▄▄██ █   █ ████
████ █▄▄▄█ ██▄ █ ▄ ▄▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█ ▀▄▀▄▀ ▀▄█▄▄▄▄▄▄▄████
████▄█ ▄█ ▄ ▀█▄▀▀▄▄█ █▄▀█▄█ ▄████
█████▀█▀▄ ▄ ▄▀█▀▀▀ ▀█▄▀▄▄▀▀██████
████▄  █▀█▄▄▄██ █▀█▀█▄   █▄▄ ████
████▀▄  ▀▄▄█ ▄▄█ ▀▄▀▀ ▀▀ █▄▄▀████
███████▄▄█▄█  ▀▄▀▀█▀ ▄▄▄ ▄ ▄ ████
████ ▄▄▄▄▄ █  █▄ ██▀ █▄█ █▄  ████
████ █   █ █▀▄ ▄  ▀▀▄  ▄  ▀▀▀████
████ █▄▄▄█ █▄█▄▄▄▄█ █  █ █ ▄█████
████▄▄▄▄▄▄▄█▄█▄█▄█▄████▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
       https://ubuntu.com
              1337

== Qr Code authentication (enter 'r' to go back to select the authentication method) ==
  1. Wait for the QR code scan result
  2. Regenerate code
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 8
== Authentication code (enter 'r' to go back to select the authentication method) ==
  1. Proceed with Authentication code
  2. Resend sms
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 7
Scan the qrcode or enter the code in the login page
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █  ▀▀█▄██ █ ▄▄▄▄▄ ████
████ █   █ █▀▄██ ▄▄▄██ █   █ ████
████ █▄▄▄█ ██▄ █ ▄ ▄▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█ ▀▄▀▄▀ ▀▄█▄▄▄▄▄▄▄████
████▄█ ▄█ ▄ ▀█▄▀▀▄▄█ █▄▀█▄█ ▄████
█████▀█▀▄ ▄ ▄▀█▀▀▀ ▀█▄▀▄▄▀▀██████
████▄  █▀█▄▄▄██ █▀█▀█▄   █▄▄ ████
████▀▄  ▀▄▄█ ▄▄█ ▀▄▀▀ ▀▀ █▄▄▀████
███████▄▄█▄█  ▀▄▀▀█▀ ▄▄▄ ▄ ▄ ████
████ ▄▄▄▄▄ █  █▄ ██▀ █▄█ █▄  ████
████ █   █ █▀▄ ▄  ▀▀▄  ▄  ▀▀▀████
████ █▄▄▄█ █▄█▄▄▄▄█ █  █ █ ▄█████
████▄▄▄▄▄▄▄█▄█▄█▄█▄████▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
       https://ubuntu.com
              1337

== Qr Code authentication (enter 'r' to go back to select the authentication method) ==
  1. Wait for the QR code scan result
  2. Regenerate code
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 8
== Authentication code (enter 'r' to go back to select the authentication method) ==
  1. Proceed with Authentication code
  2. Resend sms
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> invalid-selection
PAM Error Message: Provided input can't be parsed as integer value
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 7
Scan the qrcode or enter the code in the login page
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █  ▀▀█▄██ █ ▄▄▄▄▄ ████
████ █   █ █▀▄██ ▄▄▄██ █   █ ████
████ █▄▄▄█ ██▄ █ ▄ ▄▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█ ▀▄▀▄▀ ▀▄█▄▄▄▄▄▄▄████
████▄█ ▄█ ▄ ▀█▄▀▀▄▄█ █▄▀█▄█ ▄████
█████▀█▀▄ ▄ ▄▀█▀▀▀ ▀█▄▀▄▄▀▀██████
████▄  █▀█▄▄▄██ █▀█▀█▄   █▄▄ ████
████▀▄  ▀▄▄█ ▄▄█ ▀▄▀▀ ▀▀ █▄▄▀████
███████▄▄█▄█  ▀▄▀▀█▀ ▄▄▄ ▄ ▄ ████
████ ▄▄▄▄▄ █  █▄ ██▀ █▄█ █▄  ████
████ █   █ █▀▄ ▄  ▀▀▄  ▄  ▀▀▀████
████ █▄▄▄█ █▄█▄▄▄▄█ █  █ █ ▄█████
████▄▄▄▄▄▄▄█▄█▄█▄█▄████▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
       https://ubuntu.com
              1337

== Qr Code authentication (enter 'r' to go back to select the authentication method) ==
  1. Wait for the QR code scan result
  2. Regenerate code
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 8
== Authentication code (enter 'r' to go back to select the authentication method) ==
  1. Proceed with Authentication code
  2. Resend sms
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> invalid-selection
PAM Error Message: Provided input can't be parsed as integer value
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 7
Scan the qrcode or enter the code in the login page
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █  ▀▀█▄██ █ ▄▄▄▄▄ ████
████ █   █ █▀▄██ ▄▄▄██ █   █ ████
████ █▄▄▄█ ██▄ █ ▄ ▄▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█ ▀▄▀▄▀ ▀▄█▄▄▄▄▄▄▄████
████▄█ ▄█ ▄ ▀█▄▀▀▄▄█ █▄▀█▄█ ▄████
█████▀█▀▄ ▄ ▄▀█▀▀▀ ▀█▄▀▄▄▀▀██████
████▄  █▀█▄▄▄██ █▀█▀█▄   █▄▄ ████
████▀▄  ▀▄▄█ ▄▄█ ▀▄▀▀ ▀▀ █▄▄▀████
███████▄▄█▄█  ▀▄▀▀█▀ ▄▄▄ ▄ ▄ ████
████ ▄▄▄▄▄ █  █▄ ██▀ █▄█ █▄  ████
████ █   █ █▀▄ ▄  ▀▀▄  ▄  ▀▀▀████
████ █▄▄▄█ █▄█▄▄▄▄█ █  █ █ ▄█████
████▄▄▄▄▄▄▄█▄█▄█▄█▄████▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
       https://ubuntu.com
              1337

== Qr Code authentication (enter 'r' to go back to select the authentication method) ==
  1. Wait for the QR code scan result
  2. Regenerate code
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 8
== Authentication code (enter 'r' to go back to select the authentication method) ==
  1. Proceed with Authentication code
  2. Resend sms
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> invalid-selection
PAM Error Message: Provided input can't be parsed as integer value
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 7
Scan the qrcode or enter the code in the login page
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █  ▀▀█▄██ █ ▄▄▄▄▄ ████
████ █   █ █▀▄██ ▄▄▄██ █   █ ████
████ █▄▄▄█ ██▄ █ ▄ ▄▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█ ▀▄▀▄▀ ▀▄█▄▄▄▄▄▄▄████
████▄█ ▄█ ▄ ▀█▄▀▀▄▄█ █▄▀█▄█ ▄████
█████▀█▀▄ ▄ ▄▀█▀▀▀ ▀█▄▀▄▄▀▀██████
████▄  █▀█▄▄▄██ █▀█▀█▄   █▄▄ ████
████▀▄  ▀▄▄█ ▄▄█ ▀▄▀▀ ▀▀ █▄▄▀████
███████▄▄█▄█  ▀▄▀▀█▀ ▄▄▄ ▄ ▄ ████
████ ▄▄▄▄▄ █  █▄ ██▀ █▄█ █▄  ████
████ █   █ █▀▄ ▄  ▀▀▄  ▄  ▀▀▀████
████ █▄▄▄█ █▄█▄▄▄▄█ █  █ █ ▄█████
████▄▄▄▄▄▄▄█▄█▄█▄█▄████▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
       https://ubuntu.com
              1337

== Qr Code authentication (enter 'r' to go back to select the authentication method) ==
  1. Wait for the QR code scan result
  2. Regenerate code
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 8
== Authentication code (enter 'r' to go back to select the authentication method) ==
  1. Proceed with Authentication code
  2. Resend sms
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> invalid-selection
PAM Error Message: Provided input can't be parsed as integer value
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK} force_native_client=true
Username: user-integration-switch-mode
== Provider selection (enter 'r' to go back to user selection) ==
  1. local
  2. ExampleBroker
Choose your provider:
> 2
Enter 'r' to cancel the request and go back to select the authentication method
Gimme your password:
>
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 2
Leave the input field empty to wait for the alternative authentication method or enter 'r' to go
 back to select the authentication method
Click on the link received at user-integration-switch-mode@gmail.com or enter the code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 3
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Plug your fido device and press with your thumb:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 4
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +33… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 5
Press Enter to wait for authentication or enter 'r' to go back to select the authentication meth
od
Unlock your phone +1… or accept request on web interface:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 6
Enter 'r' to cancel the request and go back to select the authentication method
Enter your pin code:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 7
Scan the qrcode or enter the code in the login page
█████████████████████████████████
█████████████████████████████████
████ ▄▄▄▄▄ █  ▀▀█▄██ █ ▄▄▄▄▄ ████
████ █   █ █▀▄██ ▄▄▄██ █   █ ████
████ █▄▄▄█ ██▄ █ ▄ ▄▄█ █▄▄▄█ ████
████▄▄▄▄▄▄▄█ ▀▄▀▄▀ ▀▄█▄▄▄▄▄▄▄████
████▄█ ▄█ ▄ ▀█▄▀▀▄▄█ █▄▀█▄█ ▄████
█████▀█▀▄ ▄ ▄▀█▀▀▀ ▀█▄▀▄▄▀▀██████
████▄  █▀█▄▄▄██ █▀█▀█▄   █▄▄ ████
████▀▄  ▀▄▄█ ▄▄█ ▀▄▀▀ ▀▀ █▄▄▀████
███████▄▄█▄█  ▀▄▀▀█▀ ▄▄▄ ▄ ▄ ████
████ ▄▄▄▄▄ █  █▄ ██▀ █▄█ █▄  ████
████ █   █ █▀▄ ▄  ▀▀▄  ▄  ▀▀▀████
████ █▄▄▄█ █▄█▄▄▄▄█ █  █ █ ▄█████
████▄▄▄▄▄▄▄█▄█▄█▄█▄████▄▄▄▄▄▄████
█████████████████████████████████
▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀
       https://ubuntu.com
              1337

== Qr Code authentication (enter 'r' to go back to select the authentication method) ==
  1. Wait for the QR code scan result
  2. Regenerate code
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> 8
== Authentication code (enter 'r' to go back to select the authentication method) ==
  1. Proceed with Authentication code
  2. Resend sms
Choose action:
> r
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
  7. Use a QR code
  8. Authentication code
Choose your authentication method:
> invalid-selection
PAM Error Message: Provided input can't be parsed as integer value
== Authentication method selection (enter 'r' to go back to choose the provider) ==
  1. Password authentication
  2. Send URL to user-integration-switch-mode@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Pin code
────────────────────────────────────────────────────────────────────────────────
