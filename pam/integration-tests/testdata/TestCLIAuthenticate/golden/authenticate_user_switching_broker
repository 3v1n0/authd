> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK}
Username: user name






























────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK}
Username: user-integration-switch-broker






























────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK}
  Select your provider

> 1. local
  2. ExampleBroker



























────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK}
Gimme your password
>





























────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK}
  Select your authentication method

> 1. Password authentication
  2. Send URL to user-integration-switch-broker@gmail.com
  3. Use your fido device foo
  4. Use your phone +33…
  5. Use your phone +1…
  6. Use a QR code
  7. Authentication code






















────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK}
  Select your provider

  1. local
> 2. ExampleBroker



























────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK}
  Select your provider

> 1. local
  2. ExampleBroker



















PAM Authenticate() for user "user-integration-switch-broker" exited with error (PAM exit code: 2
5): The return value should be ignored by PAM dispatch:
PAM Error Message: Can't set default broker ("local") for "user-integration-switch-broker": rpc
error: code = Unknown desc = can't set default broker "local" for user "user-integration-switch-
broker": no result matching user-integration-switch-broker in UserByName
PAM AcctMgmt() exited with error (PAM exit code: 25): The return value should be ignored by PAM
dispatch
>
────────────────────────────────────────────────────────────────────────────────
> ./pam_authd login socket=${AUTHD_TESTS_CLI_AUTHENTICATE_TESTS_SOCK}
  Select your provider

> 1. local
  2. ExampleBroker



















PAM Authenticate() for user "user-integration-switch-broker" exited with error (PAM exit code: 2
5): The return value should be ignored by PAM dispatch:
PAM Error Message: Can't set default broker ("local") for "user-integration-switch-broker": rpc
error: code = Unknown desc = can't set default broker "local" for user "user-integration-switch-
broker": no result matching user-integration-switch-broker in UserByName
PAM AcctMgmt() exited with error (PAM exit code: 25): The return value should be ignored by PAM
dispatch
>
────────────────────────────────────────────────────────────────────────────────
